<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <meta name="current-user-id" content="1" th:content="${currentUserId}" />
  <meta name="current-user-name" content="사용자 1" th:content="${currentUserName}" />

  <!-- ✅ 그룹 id 전달 -->
  <meta name="group-id" content="0" th:content="${groupId}" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet">

  <style>
    body { background-color: #f8f9fa; }
    #calendar { min-height: 80vh; }
    .sidebar-card { max-height: 85vh; overflow-y: auto; }
    .group-item:hover { background-color: #f8f9ff; }
  </style>

  <title>Group Calendar</title>
</head>

<body>

<header class="border-bottom bg-white mb-3">
  <div class="container-fluid py-3 d-flex justify-content-between align-items-center">
    <div>
      <h4 class="mb-0">
        <!-- JS가 그룹 이름 세팅 -->
        <span id="groupTitle">그룹</span> 일정
      </h4>
      <small class="text-muted">그룹 일정만 보기</small>
    </div>

    <div class="d-flex gap-2">
      <button id="btn-header-add-schedule" class="btn btn-primary btn-sm">일정 추가</button>
    </div>
  </div>
</header>

<div class="container-fluid">
  <div class="row g-3">

    <aside class="col-12 col-lg-3">
      <div class="card shadow-sm sidebar-card mb-3">
        <div class="card-body">

          <!-- 1) 그룹 일정 TOP 10 -->
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h6 class="mb-0">그룹 일정 (다가오는 순)</h6>
            <button id="btn-side-add-schedule" class="btn btn-sm btn-outline-primary">+ 추가</button>
          </div>

          <ul id="groupScheduleList" class="list-group small mb-3"></ul>

          <hr class="my-3"/>

          <!-- 2) 그룹 멤버 -->
          <div class="d-flex justify-content-between align-items-center mb-2">
            <h6 class="mb-0">그룹 멤버</h6>
          </div>

          <ul id="memberList" class="list-group small"></ul>
        </div>
      </div>
    </aside>

    <main class="col-12 col-lg-9">
      <div class="card shadow-sm">
        <div class="card-body">
          <div id="calendar"></div>
        </div>
      </div>
    </main>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>

<script src="/js/group-calendar.js"></script>
</body>
</html>
